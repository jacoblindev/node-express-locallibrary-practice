<!DOCTYPE html>
<html lang="en">
<%- include('partials/head'); -%>

    <body>
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-2">
                    <%- include('partials/sidenav'); -%>
                </div>
                <div class="col-sm-10">
                    <!-- Contents start here... -->
                    <h1><%= title %>: <%= author.name %></h1>
                    <p><%= author.lifespan %></p>
                    <% if (author_books.length) { %>
                        <p><strong class="text-danger">Delete the following books before attempting to delete this author.</strong></p>
                        <div class="m-2">
                            <h4>Books:</h4>
                            <dl>
                                <% author_books.forEach((book) => { %>
                                    <dt><a href="<%= book.url %>"><%= book.title %></a></dt>
                                    <dd><%= book.summary %></dd>
                                <% }); %>
                            </dl>
                        </div>
                    <% } else { %>
                        <p><strong>Do you really want to delete this author?</strong></p>
                        <form action="" method="post">
                            <div class="form-group">
                                <input type="hidden" id="authorid" class="form-control" name="authorid" required value="<%= author._id %>">
                            </div>
                            <button class="btn btn-primary" type="submit">Delete</button>
                        </form>
                    <% } %>
                    <!-- Contents end here!!! -->
                </div>
            </div>
        </div>
    </body>

</html>